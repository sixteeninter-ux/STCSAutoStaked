<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>STCEx ‚Üí STC Auto Staking (365 ‡∏ß‡∏±‡∏ô)</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.2/dist/ethers.umd.min.js"></script>
  <script src="config.js"></script>
</head>
<body>
<div class="wrap">
  <h1>üü° STCEx ‚Üí STC Auto Staking (‡πÄ‡∏Ñ‡∏•‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤)</h1>

  <div class="card">
    <div class="row" style="justify-content:space-between; gap:12px; flex-wrap:wrap;">
      <div>
        <div class="muted">Wallet</div>
        <div id="wallet" class="mono">‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</div>

        <div class="muted" style="margin-top:6px">
          Contract: <span id="contract" class="mono">-</span><br/>
          Explorer:
          <a id="linkContract" href="#" target="_blank" rel="noreferrer">‡πÄ‡∏õ‡∏¥‡∏î Contract</a> |
          <a id="linkWallet" href="#" target="_blank" rel="noreferrer">‡πÄ‡∏õ‡∏¥‡∏î Wallet</a>
          <br/>
          <!-- Owner info: ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ user (‡∏ã‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢ JS) ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏°‡∏µ element ‡πÑ‡∏ß‡πâ -->
          <span id="ownerBox" style="display:none">
            Owner: <span id="owner" class="mono">-</span> |
            You are owner: <span id="isOwner" class="mono">-</span>
          </span>
        </div>
      </div>

      <div class="row" style="gap:10px">
        <button id="btnConnect">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤</button>
        <button id="btnRefresh" disabled>Refresh</button>
      </div>
    </div>

    <div id="status" class="status">-</div>
  </div>

  <div class="grid">
    <div class="card">
      <h3>1) Stake ‡∏î‡πâ‡∏ß‡∏¢ STCEx</h3>
      <div class="muted">‡∏•‡πá‡∏≠‡∏Å 365 ‡∏ß‡∏±‡∏ô ‡∏£‡∏±‡∏ö‡∏ï‡πâ‡∏ô + ‡∏î‡∏≠‡∏Å ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤</div>
      <div class="hr"></div>

      <div class="muted">STCEx amount</div>
      <input id="inStake" placeholder="‡πÄ‡∏ä‡πà‡∏ô 10" inputmode="decimal" />
      <div class="row" style="margin-top:10px; gap:10px; flex-wrap:wrap;">
        <button id="btnApprove" disabled>Approve STCEx</button>
        <button id="btnStake" disabled>Stake</button>
      </div>

      <div class="hr"></div>
      <div class="muted">STCEx Balance: <span id="balSTCEx" class="mono">-</span></div>
      <div class="muted">STC Balance: <span id="balSTC" class="mono">-</span></div>
      <div class="muted">Allowance(STCEx ‚Üí Contract): <span id="allowSTCEx" class="mono">-</span></div>

      <!-- ‡∏ã‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• STC ‡πÉ‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ user ‡πÄ‡∏´‡πá‡∏ô -->
      <div id="contractBalBox" style="display:none">
        <div class="hr"></div>
        <div class="muted">STC in Contract: <span id="cSTC" class="mono">-</span></div>
        <div class="muted">STCEx in Contract: <span id="cSTCEx" class="mono">-</span></div>
      </div>
    </div>

    <!-- paramsCard: ‡∏ã‡πà‡∏≠‡∏ô‡∏à‡∏≤‡∏Å user -->
    <div class="card" id="paramsCard" style="display:none">
      <h3>‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö</h3>
      <div class="muted">‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å Contract</div>
      <div class="hr"></div>
      <div class="muted">stcPerStcex: <span id="p1" class="mono">-</span></div>
      <div class="muted">minStakeSTCEx: <span id="p2" class="mono">-</span></div>
      <div class="muted">lockSeconds: <span id="p3" class="mono">-</span></div>
      <div class="muted">periodSeconds: <span id="p4" class="mono">-</span></div>
      <div class="muted">rewardBps: <span id="p5" class="mono">-</span></div>
    </div>
  </div>

  <div class="card">
    <h3>üìå Positions ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
    <!-- ‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏¢‡∏≤‡∏ß‡πÜ ‡πÉ‡∏ï‡πâ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ -->
    <div class="hr"></div>

    <div class="row" style="gap:10px; flex-wrap:wrap;">
      <span class="badge">positions: <span id="posCount" class="mono">0</span></span>
      <span class="badge">auto refresh countdown: ‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</span>
    </div>

    <div style="margin-top:10px; overflow:auto">
      <table>
        <thead>
          <tr>
            <th>posId</th>
            <th>Principal (STC)</th>
            <th>Start</th>
            <th>UnlockAt</th>
            <th>Countdown</th>
            <th>Periods</th>
            <th>Accrued Reward (STC)</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="posTbody">
          <tr><td colspan="9" class="muted">-</td></tr>
        </tbody>
      </table>
    </div>

    <div class="hr"></div>
    <div class="muted">
      ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ñ‡∏≠‡∏ô (Withdraw) ‡∏à‡∏∞‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô STC (‡∏ï‡πâ‡∏ô+‡∏î‡∏≠‡∏Å)
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
